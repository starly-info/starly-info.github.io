<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js" lang="en"> <![endif]-->
    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Starly: Daily learning sessions to read manuals and learn on your spare time</title>
        <meta name="description" content="Read manuals one step at a time
        through daily email with theory, quizzes and practice exercises. At the
        end, you can not imagine how much you have read.">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Sedgwick+Ave" rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="../../static/css/turretcss.min.css" />
        <link rel="shortcut icon" type="image/x-icon" href="../../static/img/favicon16.ico" />

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/static/js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-5348304639886214",
            enable_page_level_ads: true
          });
        </script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-103849946-1', 'auto');
          ga('send', 'pageview');
        </script>
    </head>
    <body class="text-justify background-light-100">

        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

      <div class="container">
            <header>
                <nav class="nav-inline text-center">
                  <h2 class="color-primary padding-top-s margin-bottom-xs" style="font-family: 'Sedgwick Ave';">Star*ly</h2>
                  <ul>
                    <li><i><a href="../../">Home</a></i></li>
                    <li><i><a href="../../gen/en/archive.html">Courses</a></i></li>
                  </ul>
                </nav>
            </header>
        </div>

        <hr class="margin-top-xs margin-bottom-s">

        <div class="container">
              <div class="text-center">
created: <i>18 Aug 2017</i>; modified: <i>04 Oct 2017</i>
</div>

<h1 id="vi-improveds-learning-session">Vi IMproved’s Learning Session</h1>
<p><a href="http://www.vim.org/">VIM</a>’s help file (<a href="http://vimdoc.sourceforge.net/htmldoc/uganda.html">license</a>) is the main source of knowledge about VIM and his functionalities. You can access the manual typing :help in <em>NORMAL MODE</em>. If you don’t know what <em>NORMAL MODE</em> is, subscribe and follow along with your daily email. If you do, you will find useful exercises, tips and advance knowledge too. <strong>Join end enjoy your FREE contents!</strong></p>
<p>Subscribers receive a daily email with:</p>
<ul>
<li><strong>Theory</strong>: a portion of the help file;</li>
<li><strong>Practice</strong>: questions to enhance memorization and improve the learning process. <em>Do you know all the answers?</em></li>
<li><strong>Help</strong>: answers to questions.</li>
</ul>
<p>Motivation behind these little pills of Vim knowledge:</p>
<ul>
<li>can be helpful to every user from beginner to advanced;</li>
<li>avoid users from reinventing the wheel, write plugins for functionalities already covered;</li>
<li>help you digest a very long text one bit of a time.</li>
</ul>
<p><em>Do you have any question? Do you find errors? Do you have ideas on how to improve the service? Do you know some tricky questions that could be added to the practice section?</em></p>
<p>You are <strong>welcome</strong> to contact me directly!</p>


<hr>
<p><big><b>Email Preview:</b></big></p>
<!--Start Email Preview-->
<div style="background:#fff" class="container">
<div class="margin-m">
<h2 class="text-center padding-top-s" style="font-family:lora,georgia,times new roman,serif">Knowledge Pill</h2>
<h3 class="null" style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">07.4&nbsp; Backup files</span></h3>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Usually Vim does not produce a backup file. If you want to have one, all you need to do is execute the following command:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>:set backup</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">The name of the backup file is the original file with a&nbsp; ~&nbsp; added to the end. If your file is named data.txt, for example, the backup file name is data.txt~.<br />
<br />
If you do not like the fact that the backup files end with ~, you can change the extension:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>:set backupext=.bak</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">This will use data.txt.bak instead of data.txt~.<br />
<br />
Another option that matters here is 'backupdir'. It specifies where the backup file is written. The default, to write the backup in the same directory as the original file, will mostly be the right thing.<br />
<br />
<strong>Note:</strong> <em>When the 'backup' option isn't set but the 'writebackup' is, Vim will still create a backup file. However, it is deleted as soon as writing the file was completed successfully. This functions as a safety against losing your original file when writing fails in some way (disk full is the most common cause; being hit by lightning might be another, although less common).</em><br />
<br />
<strong>KEEPING THE ORIGINAL FILE</strong><br />
<br />
If you are editing source files, you might want to keep the file before you make any changes. But the backup file will be overwritten each time you write the file. Thus it only contains the previous version, not the first one.<br />
<br />
To make Vim keep the original file, set the 'patchmode' option. This specifies the extension used for the first backup of a changed file. Usually you would do this:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>:set patchmode=.orig</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">When you now edit the file data.txt for the first time, make changes and write the file, Vim will keep a copy of the unchanged file under the name &quot;data.txt.orig&quot;.<br />
<br />
If you make further changes to the file, Vim will notice that &quot;data.txt.orig&quot; already exists and leave it alone. Further backup files will then be called &quot;data.txt~&quot; (or whatever you specified with 'backupext').<br />
<br />
If you leave 'patchmode' empty (that is the default), the original file will not be kept.</span><br />
&nbsp;</div>

<h3 class="null" style="text-align: justify;"><span style="font-family:lora,georgia,times new roman,serif">07.5&nbsp; Copy text between files</span></h3>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">This explains how to copy text from one file to another. Let's start with a simple example. Edit the file that contains the text you want to copy. Move the cursor to the start of the text and press &quot;<strong>v</strong>&quot;. This starts Visual mode. Now move the cursor to the end of the text and press &quot;<strong>y</strong>&quot;. This yanks (copies) the selected text.<br />
<br />
Move the cursor to the character where you want the text to appear after. Use &quot;<strong>p</strong>&quot; to put the text there.<br />
<br />
Of course you can use many other commands to yank the text. For example, to select whole lines start Visual mode with &quot;<strong>V</strong>&quot;. Or use CTRL-V to select a rectangular block. Or use &quot;<strong>Y</strong>&quot; to yank a single line, &quot;<strong>yaw</strong>&quot; to yank-a-word, etc.<br />
<br />
The &quot;<strong>p</strong>&quot; command puts the text after the cursor. Use &quot;<strong>P</strong>&quot; to put the text before the cursor.<br />
<br />
Notice that Vim remembers if you yanked a whole line or a block, and puts it back that way.<br />
<br />
<strong>USING REGISTERS</strong><br />
<br />
When you want to copy several pieces of text from one file to another, having to switch between the files and writing the target file takes a lot of time. To avoid this, copy each piece of text to its own register.<br />
<br />
A register is a place where Vim stores text. Here we will use the registers named a to z (later you will find out there are others). Let's copy a sentence to the f register (f for First):</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>&quot;fyas</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">The &quot;<strong>yas</strong>&quot; command yanks a sentence like before. It's the <strong>&quot;f </strong>that tells Vim the text should be place in the f register. This must come just before the yank command.<br />
<br />
Now yank three whole lines to the l register (l for line):</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>&quot;l3Y</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">The count could be before the <strong>&quot;l</strong> just as well. To yank a block of text to the b (for block) register:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>CTRL-Vjjww&quot;by</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Notice that the register specification <strong>&quot;b</strong> is just before the &quot;<strong>y</strong>&quot; command. This is required. If you would have put it before the &quot;<strong>w</strong>&quot; command, it would not have worked.<br />
<br />
Now you have three pieces of text in the f, l and b registers. Edit another file, move around and place the text where you want it:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>&quot;fp</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Again, the register specification &quot;f comes before the &quot;<strong>p</strong>&quot; command.<br />
<br />
You can put the registers in any order. And the text stays in the register until you yank something else into it. Thus you can put it as many times as you like.<br />
<br />
When you delete text, you can also specify a register. Use this to move several pieces of text around. For example, to delete-a-word and write it in the w register:</span></div>

<div style="text-align: center;"><br />
<span style="font-family:lora,georgia,times new roman,serif"><em>&quot;wdaw</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Again, the register specification comes before the delete command &quot;<strong>d</strong>&quot;.<br />
<br />
<strong>APPENDING TO A FILE</strong><br />
<br />
When collecting lines of text into one file, you can use this command:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>:write &gt;&gt; logfile</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">This will write the text of the current file to the end of &quot;logfile&quot;. Thus it is appended. This avoids that you have to copy the lines, edit the log file and put them there. Thus you save two steps. But you can only append to the end of a file.<br />
<br />
To append only a few lines, select them in Visual mode before typing &quot;<strong>:write</strong>&quot;. In chapter 10 you will learn other ways to select a range of lines.</span></div>

<h3 class="null" style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">07.6&nbsp; Viewing a file</span></h3>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Sometimes you only want to see what a file contains, without the intention to ever write it back. There is the risk that you type &quot;<strong>:w</strong>&quot; without thinking and overwrite the original file anyway. To avoid this, edit the file read-only.<br />
<br />
To start Vim in readonly mode, use this command:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>vim -R file</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">On Unix this command should do the same thing:</span></div>

<div style="text-align: center;"><br />
<span style="font-family:lora,georgia,times new roman,serif"><em>view file</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">You are now editing &quot;file&quot; in read-only mode. When you try using &quot;<strong>:w</strong>&quot; you will get an error message and the file won't be written.<br />
<br />
When you try to make a change to the file Vim will give you a warning:</span></div>

<div style="text-align: center;"><br />
<span style="font-family:lora,georgia,times new roman,serif"><em>W10: Warning: Changing a readonly file</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">The change will be done though. This allows for formatting the file, for example, to be able to read it easily.<br />
<br />
If you make changes to a file and forgot that it was read-only, you can still write it. Add the <strong>!</strong> to the write command to force writing.<br />
<br />
If you really want to forbid making changes in a file, do this:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>vim -M file</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Now every attempt to change the text will fail. The help files are like this, for example. If you try to make a change you get this error message:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>E21: Cannot make changes, 'modifiable' is off</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">You could use the -M argument to setup Vim to work in a viewer mode. This is only voluntary though, since these commands will remove the protection:</span></div>

<div style="text-align: center;"><br />
<span style="font-family:lora,georgia,times new roman,serif"><em>:set modifiable<br />
:set write</em></span></div>

<div style="text-align: justify;">&nbsp;</div>

<h3 class="null" style="text-align: justify;"><span style="font-family:lora,georgia,times new roman,serif">07.7&nbsp; Changing the file name</span></h3>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">A clever way to start editing a new file is by using an existing file that contains most of what you need. For example, you start writing a new program to move a file. You know that you already have a program that copies a file, thus you start with:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>:edit copy.c</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">You can delete the stuff you don't need. Now you need to save the file under a new name. The &quot;<strong>:saveas&quot;</strong> command can be used for this:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>:saveas move.c</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Vim will write the file under the given name, and edit that file. Thus the next time you do &quot;<strong>:write</strong>&quot;, it will write &quot;move.c&quot;. &quot;copy.c&quot; remains unmodified.<br />
<br />
When you want to change the name of the file you are editing, but don't want to write the file, you can use this command:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>:file move.c</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">Vim will mark the file as &quot;not edited&quot;. This means that Vim knows this is not the file you started editing. When you try to write the file, you might get this message:</span><br />
&nbsp;</div>

<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><em>E13: File exists (use ! to override)</em></span></div>

<div style="text-align: justify;"><br />
<span style="font-family:lora,georgia,times new roman,serif">This protects you from accidentally overwriting another file.</span><br />
&nbsp;</div>

<h3 class="null"><span style="font-family:lora,georgia,times new roman,serif">Questions</span></h3>

<ol>
  <li><span style="font-family:lora,georgia,times new roman,serif">Is backup files alternatives to swap files?</span><br />
  &nbsp;</li>
  <li style="text-align: left;"><span style="font-family:lora,georgia,times new roman,serif">Write the truth table for the combinations of options 'backup' and </span><span style="font-family:lora,georgia,times new roman,serif">'writebackup'. </span><br />
  <span style="font-family:lora,georgia,times new roman,serif">Fill the action statement (<em>XXXX</em>):</span><br />
  <br />
  <span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace"><em>'backup' 'writebackup'&nbsp; action</em></span><br />
  <span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace"><em>off&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; off&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; XXXX</em></span><br />
  <span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace"><em>off&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; XXXX</em></span><br />
  <span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace"><em>on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; off&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; XXXX</em></span><br />
  <span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace"><em>on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on</em></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; XXXX<br />
  &nbsp;</li>
  <li style="text-align: justify;"><span style="font-family:lora,georgia,times new roman,serif">Can you make changes to files open in viewer mode (-M) if really needed?</span><br />
  &nbsp;</li>
  <li style="text-align: justify;"><span style="font-family:lora,georgia,times new roman,serif">When you change the name of the current file, with the command<strong> :file</strong></span><strong> </strong><span style="font-family:lora,georgia,times new roman,serif"><strong>NEWNAME</strong>, does VIM delete the old one?</span></li>
</ol>
<span style="font-family:lora,georgia,times new roman,serif">Have Fun :)</span><br />
<div style="text-align: center;"><span style="font-family:lora,georgia,times new roman,serif"><strong>***</strong></span><br />
</div>

<h3 class="null"><span style="font-family:lora,georgia,times new roman,serif"><strong><em>Answers (*SPOILER*)</em></strong></span></h3>

<ol>
  <li style="text-align: justify;"><span style="font-family:lora,georgia,times new roman,serif">No, even with or without backup files, swap files still exist and let you recover contents of files from crash using the command <strong>:recover</strong>.</span><br />
  &nbsp;</li>
  <li><br />
  <span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace"><em>'backup' 'writebackup'&nbsp; action<br />
  off&nbsp;&nbsp;&nbsp; off&nbsp;&nbsp;&nbsp; <strong>no backup made</strong><br />
  <br />
  off&nbsp;&nbsp;&nbsp; on&nbsp;&nbsp;&nbsp; <strong>backup current file, deleted afterwards (default)</strong><br />
  <br />
  on&nbsp;&nbsp;&nbsp; off&nbsp;&nbsp;&nbsp; <strong>delete old backup, backup current file</strong><br />
  <br />
  on&nbsp;&nbsp;&nbsp; on&nbsp;&nbsp;&nbsp; <strong>delete old backup, backup current file</strong></em></span><br />
  &nbsp;</li>
  <li style="text-align: justify;"><span style="font-family:lora,georgia,times new roman,serif">Yes, you can. Change deliberatly the options '<em>modifiable</em>' and '<em>write</em>'.</span><br />
  &nbsp;</li>
  <li style="text-align: justify;"><span style="font-family:lora,georgia,times new roman,serif">No, the old file still exist after write and exit.</span></li>
</ol>
<br />
</div>
</div>
<!--End Email Preview-->
<hr>
<!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
  #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
  /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
     We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//starly.us16.list-manage.com/subscribe/post?u=2365bcf97838a067dc8e1ea7b&amp;id=865813558f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
  <label for="mce-EMAIL">Subscribe to our list and receive your daily content!</label>
  <input type="email" value name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_2365bcf97838a067dc8e1ea7b_865813558f" tabindex="-1" value></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    <p>Powered by <a href="http://eepurl.com/cZ6rZn" title="MailChimp - email marketing made easy and fun">MailChimp</a></p>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

        </div>

        <div class="container footer margin-top-m">
          <p class="text-center font-size-xs color-grey-100">© Giacomo Mantani. Problems or questions? Contact&lt;<a href="mailto:giacomo.mantani@gmail.com">giacomo.mantani@gmail.com</a>&gt;</p>
          <hr class="margin-bottom-xs no-margin-top">
            <footer class="text-right">
                <nav class="nav-inline text-center no-padding-vertical">
                    <ul>
                      <li><i><a href="../../tos.html">terms of service</a></i></li>
                      ·
                      <li><i><a href="../../privacy.html">privacy</a></i></li>
                      ·
                      <li><i><a href="../../about.html">about</a></i></li>
                    </ul>
                </nav>
            </footer>
          <p></p>
        </div>
    </body>
</html>
